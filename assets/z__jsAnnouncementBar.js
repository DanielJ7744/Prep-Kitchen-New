window.PXUTheme.jsAnnouncementBar={init:function(e){window.PXUTheme.jsAnnouncementBar=$.extend(this,window.PXUTheme.getSectionData(e));let n=this.homepage_only?".index":"";this.$el=$("#announcement-bar",n);let i=Cookies.get("announcement-bar");if($(".announcement-bar__shadow").height(this.$el.height()),!1===this.show_close_icon)Cookies.remove("announcement-bar"),$("body").addClass("announcement-bar--visible"),"vertical"==window.PXUTheme.theme_settings.header_layout&&this.addVerticalHeaderTopMargin();else{if("dismiss"===i)return $("body").addClass("announcement-bar--hidden"),this.disableSticky(),"vertical"==window.PXUTheme.theme_settings.header_layout&&this.removeVerticalHeaderTopMargin(),!1;$("body").addClass("announcement-bar--visible"),"vertical"==window.PXUTheme.theme_settings.header_layout&&this.addVerticalHeaderTopMargin()}!0===this.enable_sticky?this.enableSticky():this.disableSticky(),!0===this.show_close_icon&&($("body").addClass("has-announcement-bar-toggle"),this.$el.on("click",".js-close-announcement",()=>{this.hide(),"vertical"==window.PXUTheme.theme_settings.header_layout&&this.removeVerticalHeaderTopMargin()}))},addVerticalHeaderTopMargin:function(){isScreenSizeLarge()&&($(".header--vertical").css("marginTop",-this.$el.height()),$(".announcement-bar__shadow").height(this.$el.height()))},removeVerticalHeaderTopMargin:function(){$(".header--vertical").removeAttr("style")},enableSticky:function(){this.$el.parent().sticky({wrapperClassName:"announcement-sticky-wrapper",zIndex:40}),this.resetHeader(this.$el.height())},disableSticky:function(){this.$el.parent().unstick(),this.resetHeader(0)},hide:function(){$("body").removeClass("announcement-bar--visible"),this.disableSticky(),Cookies.set("announcement-bar","dismiss",{expires:30})},resetHeader:function(e){!0===window.PXUTheme.jsHeader.enable_sticky&&isScreenSizeLarge()?"vertical"!=window.PXUTheme.theme_settings.header_layout&&(window.PXUTheme.jsHeader.disableSticky(),window.PXUTheme.jsHeader.enableSticky(e)):!0!==window.PXUTheme.jsHeader.enable_sticky||isScreenSizeLarge()||(window.PXUTheme.mobileMenu.disableSticky(),window.PXUTheme.mobileMenu.enableSticky(e))},getAnnouncementHeight:()=>$(".announcement-container").outerHeight()||0,unload:function(e){$("#announcement-bar").off(),$("#announcement-bar").unstick()}};